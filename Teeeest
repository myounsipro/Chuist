it('should set invoices to an empty array when response.invoices is undefined', () => {
  const mockResponse = { invoices: undefined };
  jest.spyOn(invoiceService, 'getFiltredInvoices').mockReturnValue(of(mockResponse));

  component.searchInvoices();

  expect(component['invoices'].set).toHaveBeenCalledWith([]);
});

beforeEach(() => {
  component['invoices'] = { set: jest.fn() };
});